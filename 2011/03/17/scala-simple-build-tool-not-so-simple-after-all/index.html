
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Scala Simple Build Tool &#8211; Not so simple after all - Qiu&#8217;s Quibble</title>
  <meta name="author" content="Kevin Jing Qiu">

  
  <meta name="description" content="Update: I got sbt working by building directly from the master branch from their github repo. The current version is 0.7.5. The tagged 0.9.4 version &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://kevinjqiu.github.io/2011/03/17/scala-simple-build-tool-not-so-simple-after-all">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Qiu's Quibble" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href='http://fonts.googleapis.com/css?family=Quattrocento+Sans|Roboto:400,300' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-32737230-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>


<body>
	<div class="container">
		<aside class="left">
			<div class="inner-left">
				<header>
					
  <img src="http://www.gravatar.com/avatar/696a8f13a7fcf0b4265fe801f18ba7b5?s=200" alt="Gravatar of Kevin Jing Qiu " title="Gravatar of Kevin Jing Qiu" class="profilepic" />

<hgroup>
  <h1><a href="/">Qiu&#8217;s Quibble</a></h1>
  
    <h2 class="subtitle">A blog about nothing and everything</h2>
   
</hgroup>

<section>
  <p style="color:white">I&#8217;m a software developer living in the Greater Toronto Area, Canada. My favourite programming language is Python while I admire the beauty of Clojure and Scala. I use console vim with tmux for most of my coding, and I use Arch Linux at home and Ubuntu at work.
  </p>
</section>


				</header>
				<footer>
					<p>
	
		<a href="http://github.com/kevinjqiu" class="btn btn-dark">GitHub</a>
	
	
		<a href="http://twitter.com/kevinjqiu" class="btn btn-dark">Twitter</a>
	
</p>
				</footer>
			</div>
		</aside>
    	<section class="right">
    		<div class="inner-right">
    			<div id="posts">
    			  	<article class="post">
    
  <header>
    
      <h1 class="entry-title">Scala Simple Build Tool &#8211; Not So Simple After All</h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-17T20:04:00-04:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


<div class="entry-content"><p><strong>Update:</strong> I got sbt working by building directly from the master branch from their github repo. The current version is 0.7.5. The tagged 0.9.4 version is actually an older version. Anyway, tried it and kinda loved it.</p>

<p>This is just another late night rambling&hellip;I was trying to get a proper scala build system setup. I was using Maven scala plugin for a while, but longing for something simpler and more scalanic (is there such a word?). I was pretty <a href="2011/02/11/cake-the-yummy-clojure-build-system/">happy</a> with <a href="https://github.com/ninjudd/cake">Cake</a>, the Clojure build system and expected SBT to allow me to break away from using Maven to build Scala projects&hellip;boy, was I wrong&hellip;</p>

<p>First off, when you google &lsquo;simple build tool&rsquo;, you get a link to the SBT <a href="http://code.google.com/p/simple-build-tool/">Google code home page</a>. Well, nothing wrong there, except the &ldquo;latest&rdquo; version on Google code was 0.7.4 and it was half a year ago&hellip;Maybe it&rsquo;s not that outdated, so I downloaded it, followed <a href="http://code.google.com/p/simple-build-tool/wiki/Setup">this</a> instruction and setup my <code>~/bin/sbt</code> script. Running it, it asked me to setup projects, and it only supported up until Scala 2.7.7&hellip;Hrm, 2.8 was out for a while now, so obviously, SBT 0.7.4 isn&rsquo;t the latest. Reading their home page more carefully, they&rsquo;re moving the repository to <a href="https://github.com/harrah/xsbt">Github</a>. Awesome! I&rsquo;d pick Github over Google Code any time too.</p>

<p>Heading over to their Github repo, and found the latest stable version is 0.9.2. Good! So it should support Scala 2.8 now! Downloaded the zip, unzipped it, and of course it wasn&rsquo;t executable. You need to build it. There&rsquo;s a README.md, so quickly I less&#8217;ed it. For step 1, it asked me to go to the setup wiki page on Google Code (!), which is the steps I did setting up 0.7.4&hellip;I guess they&rsquo;re using 0.7.4 as a bootstrapping build&hellip;Anyways, I did that. Step 2 was to run <code>sbt update "project Launcher" proguard "project Simple Build Tool" "publish-local"</code>. Of course it didn&rsquo;t work. It&rsquo;s complained 0.7.4 version of sbt-launch can&rsquo;t download Scala 2.7.7 from any of the repository&hellip;bummer! But hey, I can download Scala 2.7.7 lib from Maven! So I quickly updated pom.xml of one of my projects to use Scala 2.7.7 and did an upgrade. Now 2.7.7 is happily in my local Maven repo. Ran that command again, hooray! It started to build, and judging by the number of packages it&rsquo;s building, &ldquo;simple&rdquo; isn&rsquo;t the first adjective that comes into my mind. Anyway, it&rsquo;s building at least, so even if it&rsquo;s a little complicated, so be it&hellip;Except&hellip;of course it broke half way&hellip; and why?</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[info]   Post-analysis: 107 classes.
</span><span class='line'>[info] == Precompiled 2.7.7 / compile ==
</span><span class='line'>[info] 
</span><span class='line'>[info]    Precompiled 2.8.0 / compile ...
</span><span class='line'>[info] 
</span><span class='line'>[info] == Precompiled 2.8.0 / compile ==
</span><span class='line'>[info]   Source analysis: 9 new/modified, 0 indirectly invalidated, 0 removed.
</span><span class='line'>[info] Compiling main sources...
</span><span class='line'>[warn] there were deprecation warnings; re-run with -deprecation for details
</span><span class='line'>[warn] one warning found
</span><span class='line'>[info] Compilation successful.
</span><span class='line'>[info]   Post-analysis: 108 classes.
</span><span class='line'>[info] == Precompiled 2.8.0 / compile ==
</span><span class='line'>java.lang.OutOfMemoryError: PermGen space
</span><span class='line'>        at java.lang.ClassLoader.defineClass1(Native Method)
</span><span class='line'>        at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
</span><span class='line'>        at java.lang.ClassLoader.defineClass(ClassLoader.java:616)</span></code></pre></td></tr></table></div></figure>


<p>You&rsquo;ve gotta be kidding me! I set <code>-Xmx512M</code> and it&rsquo;s not enough? And why is it building every version of Scala <strong>from source</strong>?? Is there something called a&hellip;JAR?</p>

<p>Anyway, increased <code>-Xmx</code> from 512 to 1024M, ran again, wait, and same thing happened again! Out of PermGen space&hellip;urrgh&hellip;</p>

<p>I decided to give up, at least for the day&hellip; SBT is anything but simple, at least from my experience. I know it&rsquo;s open source and people put efforts into it without compensation, so I shouldn&rsquo;t be critical about it. I&rsquo;ll give it a try again, and hopefully it&rsquo;s worth the time investment.</p>
</div>


</article>


        <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://kevinjqiu.github.io/2011/03/17/scala-simple-build-tool-not-so-simple-after-all/" data-via="kevinjqiu" data-counturl="http://kevinjqiu.github.io/2011/03/17/scala-simple-build-tool-not-so-simple-after-all/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>




<section id="comments">
    <div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>


    			</div>
    			<footer id="footer">
    				<p class="credit">
  Copyright &copy; 2014 - Kevin Jing Qiu. Powered by <a href="http://octopress.org">Octopress</a>
</p>


    			</footer>
    			

<script type="text/javascript">
      var disqus_shortname = 'reminiscential';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://kevinjqiu.github.io/2011/03/17/scala-simple-build-tool-not-so-simple-after-all/';
        var disqus_url = 'http://kevinjqiu.github.io/2011/03/17/scala-simple-build-tool-not-so-simple-after-all/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<link href='http://fonts.googleapis.com/css?family=Quattrocento+Sans|Roboto:400,300' rel='stylesheet' type='text/css'>


  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-32737230-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>




    		</div>
    	</section>
  	</div>
</body>
</html>
